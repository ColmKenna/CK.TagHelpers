@page "/docs/flipcard"
@model FlipCardDocModel
@{
    ViewData["Title"] = "FlipCard TagHelper Reference";
}

<div class="docs-container">
    <div class="docs-breadcrumb">
        <a href="/docs">Documentation</a>
    </div>

    <div class="docs-header">
        <h1>&lt;flip-card&gt; TagHelper</h1>
        <p class="subtitle">A 3D card component that flips between front and back content with smooth CSS transforms.</p>
        <div class="metadata">
            <strong>Target Elements:</strong> <code>&lt;flip-card&gt;</code>, <code>&lt;card-front&gt;</code>, <code>&lt;card-back&gt;</code>
            <br />
            <strong>Classes:</strong> <code>FlipCardTagHelper</code>, <code>FlipCardFaceTagHelper</code>
            <br />
            <strong>Namespace:</strong> <code>CK.Taghelpers.TagHelpers.FlipCard</code>
        </div>
    </div>

    <!-- Overview Section -->
    <div class="docs-section">
        <h2>Overview</h2>
        <p>
            The <code>&lt;flip-card&gt;</code> TagHelper creates an interactive 3D card component using CSS 3D transforms. 
            Cards can flip horizontally or vertically to reveal back-side content. The component supports automatic height 
            equalization between faces, customizable button text and styling, and optional flip buttons. Each card requires 
            at least a front face; a back face is optional. If no back face is provided, flip buttons are hidden.
        </p>
    </div>

    <!-- Getting Started Section -->
    <div class="docs-section">
        <h2>Getting Started</h2>
        <p>Here is the simplest working example:</p>
        <div class="code-block">
            <pre>&lt;flip-card&gt;
    &lt;card-front&gt;Front content here&lt;/card-front&gt;
    &lt;card-back&gt;Back content here&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>
        <p>
            This renders a card with front and back faces. A button on each face allows users to flip the card 
            by 180 degrees around the Y-axis (horizontal flip). Add titles using the <code>title</code> attribute on each face.
        </p>
    </div>

    <!-- Attribute Reference Section -->
    <div class="docs-section">
        <h2>TagHelper Attribute Reference</h2>

        <p><strong>&lt;flip-card&gt; — FlipCardTagHelper</strong></p>
        <table class="docs-table">
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>flip-direction</code></td>
                    <td>FlipDirection enum</td>
                    <td>Horizontal</td>
                    <td>
                        Direction of the flip animation: <code>Horizontal</code> (rotateY) or <code>Vertical</code> (rotateX).
                        See enum values below.
                    </td>
                </tr>
                <tr>
                    <td colspan="4">
                        <strong>Enum: FlipDirection</strong>
                        <ul style="margin: 0.5rem 0 0 2rem;">
                            <li><code>Horizontal</code> — Flip around the Y-axis (180° rotateY)</li>
                            <li><code>Vertical</code> — Flip around the X-axis (180° rotateX)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><code>auto-height</code></td>
                    <td>bool?</td>
                    <td>null (false)</td>
                    <td>
                        When true, the card's height dynamically adjusts to fit the taller of the two faces. 
                        Prevents clipping when front and back content heights differ.
                    </td>
                </tr>
                <tr>
                    <td><code>button-text</code></td>
                    <td>string</td>
                    <td>Flip</td>
                    <td>
                        Default text displayed on flip buttons. Overridden by <code>front-button-text</code> or 
                        <code>back-button-text</code> if specified.
                    </td>
                </tr>
                <tr>
                    <td><code>front-button-text</code></td>
                    <td>string</td>
                    <td>null</td>
                    <td>
                        Text for the flip button on the front face. If not specified, 
                        <code>button-text</code> is used.
                    </td>
                </tr>
                <tr>
                    <td><code>back-button-text</code></td>
                    <td>string</td>
                    <td>null</td>
                    <td>
                        Text for the flip button on the back face. If not specified, 
                        <code>button-text</code> is used.
                    </td>
                </tr>
                <tr>
                    <td><code>show-buttons</code></td>
                    <td>bool</td>
                    <td>true</td>
                    <td>
                        When false, flip buttons are hidden. Only flip cards programmatically via JavaScript. 
                        Buttons are automatically hidden if no back face exists.
                    </td>
                </tr>
                <tr>
                    <td><code>button-class</code></td>
                    <td>string</td>
                    <td>null</td>
                    <td>
                        Additional CSS classes to apply to flip buttons. The base class "rotate-button" is always applied.
                    </td>
                </tr>
                <tr>
                    <td><code>class</code></td>
                    <td>string</td>
                    <td>null</td>
                    <td>
                        CSS classes to apply to the outer card container (in addition to "card-container flip-card").
                    </td>
                </tr>
            </tbody>
        </table>

        <p style="margin-top: 2rem"><strong>&lt;card-front&gt; and &lt;card-back&gt; — FlipCardFaceTagHelper</strong></p>
        <table class="docs-table">
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>title</code></td>
                    <td>string</td>
                    <td>Front / Back</td>
                    <td>
                        Title text displayed in the card face header (h2 element). If not specified, 
                        defaults to "Front" for card-front and "Back" for card-back.
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Configuration Section -->
    <div class="docs-section">
        <h2>Configuration and Usage Guidance</h2>

        <h3>Basic Horizontal Flip</h3>
        <p>
            The default configuration flips the card around the Y-axis (left/right rotation).
        </p>
        <div class="code-block">
            <pre>&lt;flip-card&gt;
    &lt;card-front title="Question"&gt;
        What is 2 + 2?
    &lt;/card-front&gt;
    &lt;card-back title="Answer"&gt;
        4
    &lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Vertical Flip</h3>
        <p>
            Flip around the X-axis (top/bottom rotation) for a different visual effect.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card flip-direction="Vertical"&gt;
    &lt;card-front&gt;Front content&lt;/card-front&gt;
    &lt;card-back&gt;Back content&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Auto Height Adjustment</h3>
        <p>
            When front and back content have different heights, enable auto-height to prevent content clipping.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card auto-height="true"&gt;
    &lt;card-front&gt;
        Short content
    &lt;/card-front&gt;
    &lt;card-back&gt;
        Much longer content that extends beyond the front face...
    &lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Custom Button Text</h3>
        <p>
            Customize the button text for each face.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card button-text="Reveal"
           front-button-text="See Answer"
           back-button-text="Back to Question"&gt;
    &lt;card-front&gt;Question&lt;/card-front&gt;
    &lt;card-back&gt;Answer&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Hiding Buttons and Programmatic Flip</h3>
        <p>
            Hide the buttons and flip the card via JavaScript.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card show-buttons="false" id="myCard"&gt;
    &lt;card-front&gt;Front&lt;/card-front&gt;
    &lt;card-back&gt;Back&lt;/card-back&gt;
&lt;/flip-card&gt;

&lt;script&gt;
// Flip the card programmatically
document.getElementById('myCard').querySelector('.card').classList.toggle('is-flipped');
&lt;/script&gt;</pre>
        </div>

        <h3>Front-Only Card (No Back Face)</h3>
        <p>
            A card with only a front face is rendered normally. Flip buttons are hidden automatically.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card&gt;
    &lt;card-front title="Information"&gt;
        This card has no back side.
    &lt;/card-front&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Styling with CSS Custom Properties</h3>
        <p>
            The component exposes CSS custom properties for theming the card appearance.
        </p>
        <div class="code-block">
            <pre>&lt;style&gt;
.flip-card .card {
    --flip-card-width: 400px;
    --flip-card-height: 250px;
    --flip-card-transition-duration: 0.8s;
    --border-width: 2px;
    --border-color: #333;
    --border-radius: 12px;
    --bg: #f0f0f0;
    --color: #333;
    --shadow: 0 8px 16px rgba(0,0,0,0.2);
    --padding: 20px;
    --header-bg: #e0e0e0;
    --font-size: 1.1rem;
    --font-weight: 700;
}
&lt;/style&gt;

&lt;flip-card class="my-themed-card"&gt;
    &lt;card-front&gt;Front&lt;/card-front&gt;
    &lt;card-back&gt;Back&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Button Styling</h3>
        <p>
            Add custom classes to the flip buttons.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card button-class="btn btn-primary btn-sm"&gt;
    &lt;card-front&gt;Front&lt;/card-front&gt;
    &lt;card-back&gt;Back&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>

        <h3>Container Classes</h3>
        <p>
            Add custom classes to the outer card container.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card class="shadow-lg rounded-lg"&gt;
    &lt;card-front&gt;Front&lt;/card-front&gt;
    &lt;card-back&gt;Back&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>
    </div>

    <!-- JavaScript API Section -->
    <div class="docs-section">
        <h2>JavaScript API Reference</h2>

        <h3>Flipping Programmatically</h3>
        <p>
            Flip a card using JavaScript by toggling the <code>is-flipped</code> class on the inner <code>.card</code> element.
        </p>
        <div class="code-block">
            <pre>&lt;flip-card id="myCard"&gt;
    &lt;card-front&gt;Front&lt;/card-front&gt;
    &lt;card-back&gt;Back&lt;/card-back&gt;
&lt;/flip-card&gt;

&lt;script&gt;
const card = document.getElementById('myCard').querySelector('.card');
card.classList.toggle('is-flipped');  // Flip
card.classList.add('is-flipped');     // Flip to back
card.classList.remove('is-flipped');  // Flip to front
&lt;/script&gt;</pre>
        </div>

        <h3>ARIA Attributes</h3>
        <p>
            The component automatically updates <code>aria-hidden</code> attributes on the front and back faces 
            to reflect which side is visible. Screen readers will announce only the visible face.
        </p>
        <div class="code-block">
            <pre>&lt;div class="card-front" aria-hidden="false"&gt;...&lt;/div&gt;
&lt;div class="card-back" aria-hidden="true"&gt;...&lt;/div&gt;

// When flipped:
&lt;div class="card-front" aria-hidden="true"&gt;...&lt;/div&gt;
&lt;div class="card-back" aria-hidden="false"&gt;...&lt;/div&gt;</pre>
        </div>

        <h3>CSS Custom Properties Reference</h3>
        <table class="docs-table">
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>--flip-card-width</code></td>
                    <td>300px</td>
                    <td>Width of the card.</td>
                </tr>
                <tr>
                    <td><code>--flip-card-height</code></td>
                    <td>300px</td>
                    <td>Height of the card (or base height for auto-height mode).</td>
                </tr>
                <tr>
                    <td><code>--flip-card-transition-duration</code></td>
                    <td>0.6s</td>
                    <td>Duration of the flip animation.</td>
                </tr>
                <tr>
                    <td><code>--flip-card-header-height</code></td>
                    <td>40px</td>
                    <td>Height of the card header (containing title and button).</td>
                </tr>
                <tr>
                    <td><code>--border-width</code></td>
                    <td>1px</td>
                    <td>Border width for card faces.</td>
                </tr>
                <tr>
                    <td><code>--border-color</code></td>
                    <td>#ccc</td>
                    <td>Border color for card faces.</td>
                </tr>
                <tr>
                    <td><code>--border-radius</code></td>
                    <td>10px</td>
                    <td>Border radius for card corners.</td>
                </tr>
                <tr>
                    <td><code>--bg</code></td>
                    <td>#fff</td>
                    <td>Background color for card faces.</td>
                </tr>
                <tr>
                    <td><code>--color</code></td>
                    <td>inherit</td>
                    <td>Text color for card content.</td>
                </tr>
                <tr>
                    <td><code>--shadow</code></td>
                    <td>0 4px 8px rgba(0,0,0,0.1)</td>
                    <td>Shadow effect on card faces.</td>
                </tr>
                <tr>
                    <td><code>--padding</code></td>
                    <td>10px</td>
                    <td>Padding inside card headers and content areas.</td>
                </tr>
                <tr>
                    <td><code>--header-bg</code></td>
                    <td>transparent</td>
                    <td>Background color for card headers.</td>
                </tr>
                <tr>
                    <td><code>--font-size</code></td>
                    <td>1rem</td>
                    <td>Font size for card titles.</td>
                </tr>
                <tr>
                    <td><code>--font-weight</code></td>
                    <td>600</td>
                    <td>Font weight for card titles.</td>
                </tr>
            </tbody>
        </table>

        <h3>Complete Theming Example</h3>
        <div class="code-block">
            <pre>&lt;style&gt;
.custom-flip-card .card {
    --flip-card-width: 350px;
    --flip-card-height: 200px;
    --flip-card-transition-duration: 1s;
    --border-width: 3px;
    --border-color: #0066cc;
    --border-radius: 20px;
    --bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --color: white;
    --shadow: 0 10px 30px rgba(0,0,0,0.3);
    --padding: 30px;
    --header-bg: rgba(0,0,0,0.1);
    --font-size: 1.3rem;
    --font-weight: 800;
}
&lt;/style&gt;

&lt;flip-card class="custom-flip-card"&gt;
    &lt;card-front title="Hello"&gt;This is a styled card&lt;/card-front&gt;
    &lt;card-back title="World"&gt;With a custom theme&lt;/card-back&gt;
&lt;/flip-card&gt;</pre>
        </div>
    </div>

    <!-- Notes and Limitations Section -->
    <div class="docs-section">
        <h2>Notes and Known Limitations</h2>
        <ul>
            <li>
                <strong>3D Transform Support:</strong> Requires browser support for CSS 3D transforms (transform-style: preserve-3d, 
                rotateX, rotateY). All modern browsers support this; IE 11 has limited support.
            </li>
            <li>
                <strong>Backface Visibility:</strong> The component uses <code>backface-visibility: hidden</code> to hide the unused 
                face during a flip. This is well-supported but may have performance implications on older mobile devices.
            </li>
            <li>
                <strong>Auto Height:</strong> When <code>auto-height="true"</code>, the component measures both faces and sets the 
                height to the maximum. This is calculated once at render time, not dynamically on window resize. If content size changes, 
                recalculate manually or reload the page.
            </li>
            <li>
                <strong>No Back Face = No Buttons:</strong> If only a front face is provided, flip buttons are automatically hidden 
                because there is no content to reveal.
            </li>
            <li>
                <strong>Perspective Context:</strong> 3D effects depend on the card being in a container with <code>perspective</code> 
                CSS property. The component applies this automatically. Nested perspective values can affect the visual outcome.
            </li>
            <li>
                <strong>Pointer Events on Deleted Face:</strong> Although CSS handles visibility, the hidden face still occupies 
                DOM space. The component uses <code>backface-visibility: hidden</code> to prevent interaction.
            </li>
            <li>
                <strong>Accessibility:</strong> Card faces must contain semantic HTML (headings, paragraphs, lists) for proper 
                accessibility. The title attribute is rendered as an <code>&lt;h2&gt;</code> heading.
            </li>
        </ul>
    </div>
</div>

<style>
    @import url('_docs.css');
</style>
